<ng-container *ngIf="isLoading">
  <div class="flex flex-col items-center">
    <div class="loading loading-spinner loading-lg mt-40"></div>
    <div class="text-base leading-6 font-normal mt-20">現在地周辺の医療機関を検索しています</div>
  </div>
</ng-container>
<ng-container *ngIf="!isLoading">
  <ng-container *ngIf="!canGetLocation; else searchResult">
    <div class="text-xl leading-7 font-normal">現在地が取得できません。</div>
    <div class="text-sm leading-5 font-normal">
      端末、もしくはブラウザの位置情報の許諾に関する設定をご確認ください。
    </div>
  </ng-container>
  <ng-template #searchResult>
    <div class="mb-8">
      <h2 class="text-xl leading-7 font-normal">{{ shikuchoson }}周辺の医療機関</h2>
      <div class="text-sm leading-5 font-normal" *ngIf="totalItems > 0; else noItems">
        {{ totalItems }}件の医療機関が見つかりました。
      </div>
      <ng-template class="text-sm leading-5 font-normal" #noItems>医療機関は見つかりませんでした。</ng-template>
    </div>
    <!-- Display google map -->
    <div id="map" style="width: 100%; height: 400px; margin-top: 16px"></div>
    <ul class="flex flex-col space-y-4" style="height: 400px; overflow-y: auto">
      <li *ngFor="let medicalInstitution of medicalInstitutions" class>
        <app-medical-institution-card [medicalInstitution]="medicalInstitution"></app-medical-institution-card>
      </li>
    </ul>
    <app-aps-pagination [totalPages]="totalPages" [currentPage]="currentPage" (pagerEvent)="pager($event)" />
  </ng-template>
</ng-container>
